// --- NIVELES (CONFIGURACIÓN DE AJEDREZ) ---
        const levels = {
            1: {
                initial: [
                    ['', '', '', '', 'b', '', '', ''],
                    ['', '', 'p', '', 'B', '', 'p', ''],
                    ['', '', '', '', '', '', '', ''],
                    ['', '', 'P', '', '', 'p', 'P', ''],
                    ['', 'P', '', 'P', '', 'P', '', 'P'],
                    ['', '', 'p', '', 'K', '', 'p', ''],
                    ['', '', 'P', '', 'B', '', 'P', ''],
                    ['', '', '', '', 'k', '', '', '']
                ],
                moves: [
                    { w: {f:{r:3,c:6}, t:{r:2,c:6}}, b: {f:{r:1,c:2}, t:{r:2,c:2}} },
                    { w: {f:{r:4,c:7}, t:{r:3,c:7}}, b: {f:{r:0,c:4}, t:{r:1,c:3}} },
                    { w: {f:{r:1,c:4}, t:{r:4,c:7}}, b: {f:{r:1,c:3}, t:{r:0,c:2}} },
                    { w: {f:{r:4,c:7}, t:{r:5,c:6}}, b: null }
                ],
                fakeHash: "TWYTTERUPCEPSEVZ", answer: "AXQBVQXAÇÇXEUSRE"
            },
            2: {
                initial: [
                    ['', '', 'k', '', '', '', '', ''],
                    ['', '', '', '', '', '', '', ''],
                    ['', '', '', '', 'K', '', '', ''],
                    ['', '', '', 'N', 'B', '', '', ''],
                    ['', '', '', '', 'N', '', '', ''],
                    ['', '', '', '', '', '', '', ''],
                    ['', '', '', '', '', '', '', ''],
                    ['', '', '', '', '', '', '', '']
                ],
                moves: [
                    { w: {f:{r:4,c:4}, t:{r:3,c:2}}, b: {f:{r:0,c:2}, t:{r:0,c:3}} },
                    { w: {f:{r:2,c:4}, t:{r:1,c:5}}, b: {f:{r:0,c:3}, t:{r:0,c:2}} },
                    { w: {f:{r:3,c:3}, t:{r:2,c:1}}, b: {f:{r:0,c:2}, t:{r:0,c:3}} },
                    { w: {f:{r:3,c:2}, t:{r:2,c:4}}, b: null }
                ],
                fakeHash: "KNIGHT-FORK-X", answer: "SECRET"
            },
            3: {
                initial: [
                    ['', 'n', '', 'b', '', 'r', 'k', ''],
                    ['', '', 'p', 'p', '', '', '', 'p'],
                    ['', '', '', 'p', '', '', 'p', 'Q'],
                    ['', '', '', 'R', '', 'p', '', ''],
                    ['', '', '', '', 'B', 'B', 'P', ''],
                    ['', '', '', 'P', 'R', '', 'P', ''],
                    ['', '', '', '', '', '', 'P', 'K'],
                    ['', '', '', '', '', '', '', '']
                ],
                moves: [
                    { w: {f:{r:3,c:3}, t:{r:3,c:5}}, b: {f:{r:0,c:5}, t:{r:3,c:5}} },
                    { w: {f:{r:4,c:4}, t:{r:3,c:3}}, b: {f:{r:3,c:5}, t:{r:3,c:3}} },
                    { w: {f:{r:5,c:4}, t:{r:0,c:4}}, b: {f:{r:0,c:6}, t:{r:1,c:5}} },
                    { w: {f:{r:2,c:7}, t:{r:0,c:5}}, b: null }
                ],
                fakeHash: "BISHOP-PAIR-WIN", answer: "ROOT"
            },
            4: {
                // Problema 4: Mate de Pasillo con Sacrificio de Dama
                // Blancas: Dama d3, Torres d1, e1. Negras: Torre a8, Rey g8, Peones f7,g7,h7. Caballo f6, Dama d6 (bloqueadores).
                initial: [
                    ['r', '', '', '', '', '', 'k', ''], // 0 (Negras) - Torre a8, Rey g8
                    ['p', 'p', 'p', '', '', 'n', 'p', 'p'], // 1 - Peones, caballo f6
                    ['', '', '', 'q', '', '', '', ''], // 2 - Dama negra d6
                    ['', '', '', '', '', '', '', ''], // 3
                    ['', '', '', '', '', '', '', ''], // 4
                    ['', '', '', 'Q', '', '', '', ''], // 5 - Dama blanca d3
                    ['P', 'P', 'P', '', '', 'P', 'P', 'P'], // 6
                    ['', '', '', 'R', 'R', '', 'K', '']  // 7 (Blancas) - Torres d1, e1
                ],
                moves: [
                    // 1. Dd8+ (Sacrificio) -> Txd8
                    { w: {f:{r:5,c:3}, t:{r:0,c:3}}, b: {f:{r:0,c:0}, t:{r:0,c:3}} }, 
                    // 2. Txd8+ -> Ce8 (Bloqueo)
                    { w: {f:{r:7,c:3}, t:{r:0,c:3}}, b: {f:{r:1,c:5}, t:{r:0,c:4}} }, 
                    // 3. Txe8+ -> Df8 (Bloqueo)
                    { w: {f:{r:0,c:3}, t:{r:0,c:4}}, b: {f:{r:2,c:3}, t:{r:0,c:5}} }, 
                    // 4. Txf8++
                    { w: {f:{r:0,c:4}, t:{r:0,c:5}}, b: null } 
                ],
                fakeHash: "FIREWALL-BYPASS-OK", answer: "BACKDOOR"
            },
            5: {
                // Problema 5: Mate de la Coz (Smothered Mate)
                // Blancas: Dama b3, Caballo h6 (ya en posición). Negras: Rey h8, Torre g8.
                initial: [
                    ['', '', '', '', '', '', 'r', 'k'], // 0 - Torre g8, Rey h8
                    ['p', 'p', 'p', '', '', 'p', 'p', ''], // 1
                    ['', '', '', '', '', '', '', 'P'], // 2 - Peón h6 (para sostener el tema visual)
                    ['', '', '', '', '', 'N', '', ''], // 3 - Caballo f5 (listo para saltar a h6)
                    ['', '', 'Q', '', '', '', '', ''], // 4 - Dama b4
                    ['', '', '', '', '', '', '', ''], // 5
                    ['P', 'P', '', '', '', 'P', 'P', ''], // 6
                    ['', '', '', '', '', '', 'K', '']  // 7
                ],
                moves: [
                    // 1. Ch6+ (Doble Jaque) -> Rh8 (Forzado, si Rf8 Df7 mate en 1, asumimos CPU va a la esquina)
                    { w: {f:{r:3,c:5}, t:{r:2,c:7}}, b: {f:{r:0,c:6}, t:{r:0,c:7}} }, // Nota: Simulación visual, la CPU moverá el rey de g8 a h8 en realidad.
                    // Corrección para engine simple: Partimos de C h6+ directo.
                    // Vamos a hacer la secuencia clásica: 1.Cf7+ Rg8 2.Ch6+ Rh8 3.Dg8+ Txg8 4.Cf7#
                    // Posición inicial ajustada para secuencia completa:
                    // Caballo en g5 (3,6)
                ],
                // REAJUSTE PARA ENGINE SIMPLE (Secuencia Determinista):
                initial: [
                    ['', '', '', '', '', 'r', 'k', ''], // 0 - Rey g8
                    ['p', 'p', 'p', '', '', 'p', 'p', 'p'], // 1
                    ['', '', '', '', '', '', '', ''], // 2
                    ['', '', '', '', '', '', 'N', ''], // 3 - Caballo g5
                    ['', '', 'Q', '', '', '', '', ''], // 4 - Dama c4
                    ['', '', '', '', '', '', '', ''], // 5
                    ['P', 'P', '', '', '', 'P', 'P', 'P'], // 6
                    ['', '', '', '', '', '', 'K', '']  // 7
                ],
                moves: [
                    // 1. Cf7+ -> Rg8
                    { w: {f:{r:3,c:6}, t:{r:1,c:5}}, b: {f:{r:0,c:6}, t:{r:0,c:7}} }, // Rey a g8? No, en array 0,6 es g8.
                    // 2. Ch6+ -> Rh8 (Jaque doble)
                    { w: {f:{r:1,c:5}, t:{r:2,c:7}}, b: {f:{r:0,c:7}, t:{r:0,c:6}} }, // Rey a h8
                    // 3. Dg8+ -> Txg8 (Sacrificio Dama)
                    { w: {f:{r:4,c:2}, t:{r:0,c:6}}, b: {f:{r:0,c:5}, t:{r:0,c:6}} }, // Torre come Dama
                    // 4. Cf7# (Mate de la Coz)
                    { w: {f:{r:2,c:7}, t:{r:1,c:5}}, b: null }
                ],
                fakeHash: "BUFFER-OVERFLOW-X", answer: "DDOS"
            },
            6: {
                // Problema 6: Mate de Damiano (King Hunt / Red)
                // Blancas: Torre h1, Dama d1. Negras: Rey g8.
                // Secuencia: 1. Th8+ Rxh8 2. Dh1+ Rg8 3. Dh7+ Rf8 4. Dh8#
                initial: [
                    ['', '', '', '', '', '', 'k', ''], // 0 - Rey g8
                    ['p', 'p', 'p', '', '', 'p', 'p', 'p'], // 1
                    ['', '', '', '', '', '', '', ''], // 2
                    ['', '', '', '', '', '', '', ''], // 3
                    ['', '', '', '', '', '', '', ''], // 4
                    ['', '', '', '', '', '', '', ''], // 5
                    ['P', 'P', 'P', '', '', 'P', 'P', 'P'], // 6
                    ['', '', '', 'Q', '', '', '', 'R']  // 7 - Dama d1, Torre h1
                ],
                moves: [
                    // 1. Th8+ -> Rxh8 (Sacrificio Torre)
                    { w: {f:{r:7,c:7}, t:{r:0,c:7}}, b: {f:{r:0,c:6}, t:{r:0,c:7}} },
                    // 2. Dh1+ -> Rg8
                    { w: {f:{r:7,c:3}, t:{r:7,c:7}}, b: {f:{r:0,c:7}, t:{r:0,c:6}} },
                    // 3. Dh7+ -> Rf8
                    { w: {f:{r:7,c:7}, t:{r:1,c:7}}, b: {f:{r:0,c:6}, t:{r:0,c:5}} },
                    // 4. Dh8#
                    { w: {f:{r:1,c:7}, t:{r:0,c:7}}, b: null }
                ],
                fakeHash: "KERNEL-PANIC-00", answer: "EXPLOIT"
            }
        };
